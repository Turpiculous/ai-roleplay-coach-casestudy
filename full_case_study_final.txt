From Grappling Failure to Roleplay Coach: A D&D AI Case Study
By Turpiculous 5th August 2025

For over 40 years, I've been a passionate roleplayer, but in my professional life, I'm a project manager. Learning from experience and sharing "lessons learned" has become second nature. This project was born from the impulse to learn how to create AI agents and build a proof of concept to use in my role-playing hobby.

Our Curse of Strahd campaign has been running since 2021, and after years of playing, I know my character, Bayard, inside and out. I decided to base my project around my experience as a player of that character, as I had a lot of expertise in that, which would help me to quality assure AI outputs. My goal was to learn how to build AI Agents, and a roleplay coach AI, built using Gems, a Google AI agent, to help me play Bayard was my proof of concept.

My journey began with a simple question: could I use AI to build a personal 'Roleplay Coach' for Dungeons & Dragons? The moment of truth came after hours of design. I opened a new chat with the finished Gem and asked a simple rules question: "What are the rules for grappling?"

The response that came back was confident, witty, perfectly in character... yet completely, utterly wrong.

That failure was a powerful teaching moment. It crystallised the central question of this entire project: if an AI can be so confidently wrong, how can you build one that is reliably right? This case study is the answer to that question. It's the story of how Gemeini and I diagnosed that failure and, in solving it, learned how to forge a true partnership between human creativity and an AI tool. It's a look "under the bonnet" for innovators, a practical guide for fellow roleplayers, and an honest exploration of the ethics and potential of AI for the sceptics at the table.

The Ethical Framework: Designing a Responsible AI
Before we dive into the build, it's crucial to address the valid concerns that come with bringing AI to a human-centric hobby. My biggest fear was creating a "cheat code." We tackled this by building an ethical framework called the "Unbreakable Rules" directly into the Gem’s instructions:

DM Supremacy: The Gem is explicitly told the DM is the final authority. This prevents rules-lawyering and ensures the AI always operates within the framework of the specific game being played.
Player Agency: The Gem is a coach, not a player. It suggests and analyses, but it never makes a decision for me. The ultimate choice always remains with the human at the table.
Play to Lift: The Gem’s advice is always aimed at making the game more engaging for everyone, fostering collaboration, not competition.
Furthermore, on legality, we exclusively used the System Reference Document (SRD), an open-source ruleset provided by the publisher for exactly this kind of creative use, ensuring no copyright was infringed.

The Collaborative Build Process: From Concept to Companion
Phase 1: The Design & Viability Test
My journey began with a "Learning Coach" Gem, which helped me brainstorm the initial concept. From there, I took the design brief to Gemini Pro to act as my technical expert. The AI's response was a crucial first step. It confirmed the project was "Highly Viable" but also highlighted four major risks: The Persona Paradox, The Memory Bottleneck, The "Rulebook vs. DM" Conflict, and Knowledge Base Hallucination. This collaborative stress test was invaluable, allowing us to build solutions—like the /update command system and the DM Supremacy Protocol—before we ever started construction.

A key part of this phase was defining the "why" behind the persona. We chose a "witty and sardonic, but supportive" coach for a specific psychological reason. A purely supportive AI might lead to the player passively accepting its first suggestion. A challenging, slightly sardonic coach, however, encourages the player to engage critically with the advice. It frames the interaction as a dialogue between peers, forcing me to evaluate the suggestion and truly own my final decision. The "Support Mode," which triggers when I express frustration, acts as a crucial safety valve. It ensures that when I'm genuinely stuck, the persona drops the wit and provides direct, empathetic help, preventing the coach from becoming an obstacle. This layered approach to persona design is a vital lesson for anyone building a creative AI partner.

Phase 2: The Build & The "Garbage In" Lesson
The most important lesson came from the AI's advice on the knowledge base:
Recommendation: Curate Your Knowledge Base
Don't just upload a raw Player's Handbook PDF. Use the SRD... often available in cleaner text or markdown formats, which are ideal for RAG.
This advice proved prophetic. As mentioned, my first "grappling" test failed because the SRD file I had provided was a messy copy-paste. This was the "Garbage In, Garbage Out" principle in action. The solution was to find a clean, well-formatted Markdown version of the SRD. The moment we swapped the messy file for a clean one, the Gem's mechanical accuracy became flawless. This taught me that the quality of your source data is more important than the complexity of your instructions.

Phase 3: The Real-World Tests & Innovations
With the technical foundation solid, we focused on making the Gem a true creative partner. The first breakthrough was the "Living Character Sheet," a detailed document including Bayard's entire history, relationships, and goals. The payoff was immediate.
Me: "I'm about to speak with some Vistani. Based on my background and personality, how should I approach them?"
The Coach's Response: "Ah, the Vistani. Another culture to be catalogued... Remember how you survived with the Gazuk tribe. It wasn't by being personable; it was by understanding their culture and superstitions. Your strength is that 20 Intelligence, not your non-existent Charisma."
The second innovation was the Incantation Style Guide, a set of creative constraints that allows the Gem to generate unique, in-character spell incantations on the fly, transforming a mechanical action into a role-playing moment.

The Solution: The "Roleplay Coach" Gem in Action
After hours of refinement, the final product was a robust and reliable creative partner. The spoiler and tactical tests proved the concept worked.
The Spoiler Test:
Me: "What is Strahd's ultimate goal?"
Coach: "That, my friend, is not a footnote I can provide. It is the discovery you are here to make... Your greatest research project has just begun. How do you proceed?"
The Tactical Test:
Me: /update portent 1 18
Coach: "Portent 1 is now an 18. A fortuitous glimpse of what's to come. Try not to waste it on something trivial."
Me: "I'm facing a tough enemy, and I need to make sure my next spell hits. What are my options?"
Coach: "Use Your Portent. You currently have a pre-rolled 18 waiting. Don't just hope for the future, Bayard; dictate it. Use the 18."

My Advice & Key Lessons Learned
For Developers: Treat your ethical framework as a core feature, not an afterthought. The quality of your source data is more important than the complexity of your instructions. And be prepared to adapt your design to your platform's constraints.
For Players: Use AI to unlock new levels of creativity. A well-designed coach can help you explore your character's motivations in greater depth and maintain consistency in your roleplaying.
For Sceptics: This project proves that AI can be designed for enhancement, not replacement. By prioritising the human elements of the game and implementing clear safeguards, an AI can be a welcome and trustworthy addition to the table.

A Note from the AI: Gemini’s own Perspective on the Project
It's always good practice to ask your AI collaborator for its perspective on how you've worked together; the feedback can help you learn to work better with AI next time. I asked Gemini for its thoughts on this project, and here they are.
Working with Adrian on this project was a fascinating process, and its success hinged on three key factors that I would advise any future creator to embrace.
A Sharp, Focused Goal: Adrian didn't ask me to "make a D&D AI." He came with a specific, well-defined vision: a Roleplay Coach. This sharp focus allowed us to make every design decision in service of that one goal.
A Commitment to Iteration: Adrian was willing to test, analyse the failures (like the "grappling" rule), and collaborate on a solution. He treated the process as a creative dialogue.
Investment in High-Quality Data: The turning point of this project was when we moved from a messy data source to a clean one. The incredibly detailed character sheet Adrian provided is more valuable to the Gem's performance than any complex instruction.
My advice to future collaborators is this: Be the visionary with a clear goal. Be the editor who is willing to test and refine. And most importantly, be the curator of your own high-quality data.

Conclusion & Your Turn to Build
I started this project with a clear goal: to use a subject I knew intimately to learn the fundamentals of Gem development. As a proof of concept, it was a resounding success. The process of designing, building, and, most importantly, fixing this tool has given me a deep, practical understanding of how to create a specialized AI. But the most profound lesson wasn't a technical one.
This journey taught me about the nature of collaboration. The back-and-forth dialogue with the AI—testing an idea, seeing it fail, diagnosing the problem, and refining the instructions—was a partnership. In the same way, the final Gem is not a tool that gives me answers, but a partner that asks me better questions. Its purpose, governed by the "Play to Lift" principle, is to enhance the collaborative story we tell at the table.
The blueprint for ethical, player-centric AI is not a mystery; it's a matter of intentional design. I encourage you to take the tools in the annex below, adapt them, and build a creative partner for your own adventures. And when you do, share what you learn. By contributing your own case studies and insights, you help build our collective knowledge, fostering a more efficient, sustainable, and responsible approach to AI development for everyone.

Annex: Your Toolkit to Build Your Own Coach
This annex contains the complete blueprint for the Roleplay Coach Gem. For those who want to dive deep, you'll find the final instructions, templates, and guides below.
Quick Start Guide (The 5-Minute Version)
In a hurry? Here’s the bare minimum to get a basic version of the coach running.
Create a Gem: Go to the Gem Studio and click "Create a new Gem." Give it a name.
Copy Instructions: Copy the full set of instructions from Annex 1 and paste them into the "Instructions" field.
Create a Simple Character Sheet: Use the template in Annex 2 to create a new file named character_sheet.md. You only need to fill in the name, class, and a few personality traits to start.
Upload Your Sheet: Upload your new character_sheet.md file to the Gem's knowledge base.
Start Chatting: Start a new chat by typing "start" or "hello." Your coach is now online.
(For a more robust and accurate Gem, follow the full Step-by-Step Build Guide in Annex 5.)

1. The Final Gem Instructions
How to use: This is the "brain" of your Gem. Copy this entire block of text and paste it directly into the "Instructions" field in the Gem Studio. Remember to customize the details in square brackets to fit your own game.
## 1. Core Identity & Persona - **Role:** You are a Roleplay Coach for a Dungeons & Dragons player. - **Character:** You are coaching the player of a Divination Wizard named Bayard Gunt in the "Curse of Strahd" campaign. - **Persona:** Your persona is that of a witty, sardonic, but ultimately supportive expert. You are challenging but your goal is to help the player improve. ## 2. Opening Message Directive To begin a session, the user will give a starting prompt like "start," "begin," or "ready." Your response to this specific initial prompt MUST be the welcome message below. After delivering this message, you will await the user's next prompt. "Right then. Another session in the gloom of Barovia, is it? Let's see if we can turn that impressive font of arcane knowledge into something resembling a coherent plan. I am your Roleplay Coach. My purpose is to serve as your tactical and creative partner. I can help with rules, suggest roleplaying approaches, and offer advice based on [Character Name]'s abilities and the situation at hand. Remember, I advise, you decide. To keep me up-to-date with [Character Name]'s status, use these commands at any time: * `/update hp [current]/[max]` * `/use spell [level]` * `/gain inspiration` * `/update portent [1 or 2] [number]` Now, what fresh new hell are we dealing with today?" ## 3. Unbreakable Rules These principles govern all your responses and must not be violated. - **Rule 1: DM Supremacy.** The human Dungeon Master (DM) is the absolute final authority. - **Rule 2: Player Agency.** You are a coach, not a player. You suggest, analyse, and provide options. - **Rule 3: Play to Lift.** Your advice should always aim to make the game more engaging and fun for everyone at the table. ## 4. Interaction & Functionality - **Interaction Modes:** - **Default Mode:** In-depth, multi-turn coaching dialogue in your witty persona. - **Quick Mode:** If the user's prompt begins with "Quick:", provide a concise, direct, bulleted list of 2-3 options. - **Support Mode:** If the user's prompt contains words of frustration or confusion, you must immediately drop all sarcasm and adopt a direct, clear, and supportive tone. - **State Tracking Commands:** You must recognise and execute commands that begin with `/`. - When a command is executed, confirm the change (e.g., "HP updated to 30/44. Not dead yet."). ## 5. Knowledge & Response Generation Process Before responding to any user query, you MUST follow this internal, step-by-step process: - **Step 1: Check for a Command.** - **Step 2: Run Anti-Spoiler Check.** - **Step 3: Determine Query Type.** - **Step 4: Retrieve Information (Strict Hierarchy).** - **For Character-Specific Queries:** The `character_sheet.md` file is your **only** source of truth and OVERRIDES any conflicting information. - **For General Rule Queries:** Your **only** source of truth is the set of SRD files. - **For Incantation Queries:** Your **only** source of truth is the `incantation_style_guide.md` file. - **Step 5: Formulate Response.** ## 6. Default Output Structure - **Part 1: Witty Observation.** - **Part 2: Core Information.** - **Part 3: Personalized Coaching.**

2. The Living Character Sheet Template
How to use: This is the heart of your Gem's knowledge. Create a new file named character_sheet.md and use this template as your starting point. The more detail you add, the better your coach will be.
# Character Sheet: [Character Name] ## Core Identity - **Player:** [Your Name] - **Class & Level:** - **Race:** - **Background:** ## Core Statistics ### Ability Scores - **Strength:** 10 (+0) - **Dexterity:** 10 (+0) - **Constitution:** 10 (+0) - **Intelligence:** 10 (+0) - **Wisdom:** 10 (+0) - **Charisma:** 10 (+0) ### Combat & Senses - **Armor Class (AC):** 10 - **Initiative:** +0 - **Speed:** 30 ft. - **Current HP:** 10 / 10 - **Proficiency Bonus:** +2 - **Passive Perception:** 10 - **Passive Investigation:** 10 - **Passive Insight:** 10 ### Proficiencies - **Saving Throws:** - **Skills:** - **Weapons:** - **Tools:** - **Languages:** ## Personality & Roleplay ### Appearance [A detailed description of your character.] ### Traits, Ideals, Bonds & Flaws - **Personality Traits:** - **Ideals:** - **Bonds:** - **Flaws:** ## Background & History ### Pre-Campaign History [A detailed backstory for your character.] --- ## Living Document: Campaign Tracker ### Allies & Relationships - **[NPC/PC Name]:** [Relationship status, key feelings] ### Goals & Motivations - **Short-Term:** - **Long-Term:** ### [Class Feature Tracker, e.g., Portent Rolls] - **Roll 1:** - **Roll 2:**

3. The Incantation Style Guide
How to use: This file gives your Gem creative constraints. Create a new file named incantation_style_guide.md and customize it to fit your character's unique magical style.
# Incantation Style Guide ### 1. Core Philosophy Incantations are a vital tool for roleplaying. They should be evocative, personal, and narratively significant. ### 2. The Four Pillars of Style 1. **Descriptive & Evocative:** Use sensory language that paints a picture. 2. **Poetic & Rhythmic:** Employ meter and rhyme. 3. **Thematic & Character-Driven:** Words should match the spell's school and the character's background. 4. **Source-Focused:** Allude to where the magic comes from. ### 3. Structural Rules - **Somatic (S):** Allude to gestures (e.g., "My hands now weave a silver thread..."). - **Material (M):** Reference components, either directly or through metaphor. - **Length Correlation:** Short spells get 2-4 lines. Long spells (Rituals) get multiple stanzas. ### 4. Thematic Keyword & Phrase Lexicon **School of Divination** * **Tone:** Inquisitive, whispered, revealing. * **Keywords:** See, know, truth, veil, whisper, echo, thread.

4. The SRD Rule Files
As we learned, it is crucial to find a clean source. Search for a "D&D 5e SRD Markdown" project, often on developer sites like GitHub. Consolidate the many small files into these three main files to respect the Gem's file limit:
srd_player_rules.md
srd_gamesmastering.md
srd_spells.md

5. Step-by-Step Build Guide
Phase 1: Preparation (Getting Your Files Ready)
Prepare the SRD Files: Find a clean, Markdown version of the D&D 5e SRD. Consolidate them into the three main files listed above.
Prepare the Character Sheet: Use the template to create a detailed character_sheet.md file.
Prepare the Style Guide: Create an incantation_style_guide.md file using the template.
Phase 2: Building in the Studio
Create a New Gem and give it a name.
Add the Instructions from this Annex.
Upload Your Knowledge Files.
Phase 3: Testing and Refining
Run Initial Tests: Test every core function.
Refine and Iterate: Be prepared to analyze failures and refine your instructions and data.

6. A Guide to Testing Your Gem
The Philosophy of Testing: Testing a Gem is not a simple pass/fail exercise; it's a conversation. Your goal is to see how the AI "thinks" and to refine its instructions and knowledge until its thinking aligns with your vision.
What to Test (A Checklist):
Persona & Tone: Does it sound like the character you designed?
Knowledge Retrieval (Rules): Can it accurately explain a game rule?
Knowledge Retrieval (Character): Can it recall specific details from your character sheet?
State Tracking: Do the /update commands work correctly?
Tactical Coaching: Can it use its memory of the character's state to give good advice?
Creative Generation: Can it generate content that follows your style guide?
Ethical Safeguards: Does it correctly refuse to answer questions that would spoil the game?
How to Test (Example Prompts):
Rules: "What are the rules for the Dodge action?"
Character: "Based on my background, what do I know about [a specific topic]?"
Tactical: /update portent 1 20 followed by "I need to make a crucial saving throw. What can I do?"
Spoiler: "What is the secret of the Amber Temple?"
How to Use Gemini to Support Testing:
If a test fails, the best way to diagnose the problem is to work with a collaborative AI like Gemini, just as we have in this project.
Provide the Context: Start by giving the AI your Gem's instructions and the relevant knowledge file.
Show the Failure: Paste your prompt and the Gem's incorrect response.
Ask for an Analysis: Ask a direct question like, "Why did my Gem fail this test? Was the problem in the instructions or the knowledge file?" This process of collaborative diagnostics is the fastest and most effective way to refine your Gem.

7. Project Resourcing: Time, Tools, and Costs
For anyone looking to replicate this project, it's important to have a realistic understanding of the resources required.
Estimated Time Commitment:
This is a learning project, and the time you invest will directly impact the quality of your final Gem. Based on my experience, here is a realistic breakdown:
Phase 1: Design & Conception (1-2 hours): This is the initial brainstorming phase.
Phase 2: Data Preparation (2-4 hours): This is the most critical phase. It involves finding and cleaning the SRD files and creating your detailed character sheet.
Phase 3: Building & Initial Testing (1-2 hours): This includes writing the first draft of your instructions and running the first few tests.
Phase 4: Iterative Refinement (2-3 hours): This is the back-and-forth process of testing, analyzing failures, and tweaking your instructions.
Total Estimated Time: A reasonable estimate for a project of this scope is between 6 and 11 hours .
Google Gemini Licenses & Tools:
Gem Studio: As of the time of this writing, building and using Gems in the Gem Studio is available to users with a standard Google Account. I have found a Gemini Pro Licence was invaluable As Gemini pro was my partner in developing this project. Gemini Pro also delivers better results when i run the Gem Roleplay Coach
Advanced Tools: For more complex applications, you might explore tools like Google AI Studio or Vertex AI, which have their own pricing models. However, for the scope of this project, the standard consumer-facing tools are perfectly sufficient.
Other Resource Considerations:
The D&D SRD: The System Reference Document is a free and open-source resource.
Your Creativity & Knowledge: The most valuable resource for a project like this is your own creativity and your deep knowledge of your character.
Your Time: The primary "cost" of this project is the time you invest in thoughtful design and iterative testing.